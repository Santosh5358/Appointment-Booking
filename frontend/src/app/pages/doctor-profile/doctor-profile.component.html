<div class="container py-5">
  <h2 class="text-center text-primary fw-bold mb-5">
    Our Medical Specialists
  </h2>

  <div class="row g-4">
    <div
      class="col-12 col-sm-6 col-md-4 col-lg-3"
      *ngFor="let doctor of doctorProfile2"
    >
      <div class="card h-100 border-0 shadow-sm rounded-4">

        <img
          [src]="doctor.profileImage || 'assets/doc-removebg-preview.png'"
          class="card-img-top"
          style="height: 220px; object-fit: cover;"
        />

        <div class="card-body text-center d-flex flex-column">
          <h6 class="fw-semibold text-primary mb-1">
            {{ doctor.title }} {{ doctor.name }}
          </h6>

          <p class="text-muted small mb-1">
            {{ doctor.specializations?.join(', ') }}
          </p>

          <p class="text-muted small mb-3">
            {{ doctor.experience }}+ years experience
          </p>

          <button
            class="btn btn-outline-primary btn-sm mt-auto w-100"
            (click)="changeDoctor(doctor)"
          >
            View Profile
          </button>
        </div>

      </div>
    </div>
  </div>

  <div class="text-center py-5" *ngIf="loading">
    <div class="spinner-border text-primary"></div>
  </div>
</div>


<div class="doctor-profile py-5">
  <div class="container" *ngIf="doctorProfile" #profileSection>
    <!-- Profile Header -->
    <div class="profile-header bg-light rounded-3 p-5 mb-5">
      <div class="row align-items-center">
        <div class="col-md-4 text-center mb-4 mb-md-0">
          <div class="profile-image mb-3">
            <img [src]="doctorProfile.profileImage || 'assets/doc-removebg-preview.png'" alt="Doctor"
              class="rounded-circle shadow" style="width: 300px; height: 300px; object-fit: cover; border: 5px solid #007bff;">
          </div>
        </div>
        <div class="col-md-8">
          <h1 class="text-primary mb-2">{{ doctorProfile.title }} {{ doctorProfile.name }}</h1>
          <div class="specializations mb-3">
            <span class="badge bg-info me-2 mb-2" *ngFor="let spec of doctorProfile.specializations">
              {{ spec }}
            </span>
          </div>
          <div class="profile-stats mb-4">
            <div class="row">
              <div class="col-6 col-md-3">
                <div class="stat-box">
                  <h4 class="text-primary">{{ doctorProfile.experience }}+</h4>
                  <p class="text-muted">Years Experience</p>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="stat-box">
                  <h4 class="text-primary">3</h4>
                  <p class="text-muted">Specializations</p>
                </div>
              </div>
            </div>
          </div>
          <p class="text-muted">{{ doctorProfile.bio }}</p>
        </div>
      </div>
    </div>

    <!-- Contact Information -->
    <div class="row mb-5">
      <div class="col-md-6 mb-3">
        <div class="info-card p-4 bg-white rounded shadow">
          <h5 class="text-primary mb-3">
            <i class="bi bi-telephone"></i> Contact Information
          </h5>
          <p class="mb-2">
            <strong>Phone:  </strong>
            <a href="tel:  {{ doctorProfile.phone }}">{{ doctorProfile.phone }}</a>
          </p>
          <p class="mb-2">
            <strong>Email:  </strong>
            <a href="mailto:  {{ doctorProfile.email }}">{{ doctorProfile.email }}</a>
          </p>
          <p class="mb-2">
            <strong>Address:  </strong> {{ doctorProfile.address }}
          </p>
          <a href="{{ doctorProfile.googleMapLink }}" target="_blank" class="btn btn-sm btn-primary mt-3"
            *ngIf="doctorProfile.googleMapLink">
            <i class="bi bi-map"></i> View on Google Maps
          </a>
        </div>
      </div>

      <div class="col-md-6 mb-3">
        <div class="info-card p-4 bg-white rounded shadow">
          <h5 class="text-primary mb-3">
            <i class="bi bi-clock"></i> Operating Hours
          </h5>
          <div class="hours-list">
            <div class="hour-item d-flex justify-content-between mb-2" *ngFor="let day of ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']">
              <span class="fw-500">{{ day }}</span>
              <span class="text-muted" *ngIf="operatingHours && operatingHours[day.toLowerCase()]">
                {{ operatingHours[day.toLowerCase()].start }} - {{ operatingHours[day.toLowerCase()].end }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Work Samples / Portfolio -->
    <div class="work-samples mb-5" *ngIf="doctorProfile.workSamples && doctorProfile.workSamples.length > 0">
      <h3 class="text-primary mb-4">Work Samples & Portfolio</h3>
      <div class="row g-4">
        <div class="col-md-4" *ngFor="let sample of doctorProfile.workSamples">
          <div class="card shadow h-100 sample-card">
            <img [src]="sample.image || 'assets/placeholder.jpg'" class="card-img-top" alt="{{ sample.title }}"
              style="height: 250px; object-fit: cover;">
            <div class="card-body">
              <h5 class="card-title">{{ sample.title }}</h5>
              <p class="card-text text-muted">{{ sample.description }}</p>
              <p class="card-text">
                <small class="text-muted">
                  <i class="bi bi-calendar"></i> {{ sample.date | date: 'MMM yyyy' }}
                </small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Consultation Fee -->
    <div class="consultation-fee bg-primary text-white p-5 rounded-3 text-center mb-5"
      *ngIf="doctorProfile.consultationFee">
      <h4 class="mb-2">Consultation Fee</h4>
      <h2>â‚¹{{ doctorProfile.consultationFee }}</h2>
      <p class="mt-3">Per session (Duration: 60 minutes)</p>
      <button class="btn btn-light btn-lg mt-3" [routerLink]="['/booking']">
        <i class="bi bi-calendar-check"></i> Book Now
      </button>
    </div>

    <!-- Qualifications & Experience -->
    <div class="qualifications bg-light p-5 rounded-3">
      <h3 class="text-primary mb-4">About the Doctor</h3>
      <div class="row">
        <div class="col-md-6">
          <h5 class="text-primary mb-3">Specializations</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item bg-light" *ngFor="let spec of doctorProfile.specializations">
              <i class="bi bi-check-circle text-primary"></i> {{ spec }}
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <h5 class="text-primary mb-3">Services Offered</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item bg-light">
              <i class="bi bi-house-heart text-primary"></i> Home Visit Services
            </li>
            <li class="list-group-item bg-light">
              <i class="bi bi-shield-check text-primary"></i> Professional Care
            </li>
            <li class="list-group-item bg-light">
              <i class="bi bi-calendar-check text-primary"></i> Flexible Scheduling
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div class="text-center py-5" *ngIf="loading">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>
